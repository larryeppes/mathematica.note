使用
快速迭代你的量化交易灵感
发明者量化
字数
上一篇中完成了初步的开仓触发条件设计
有一点小衔接工作没有做完
就是在开仓时需要调用代码中自定义函数
函数
去检查一下当前一份资金是否足够一手保证金金额
并且还要检查一下可用资金部分是否足够开
手
代码中增加一个全局变量
用于记录当前账户信息
当前账户信息
添加调用
函数的代码
触发
上轨
当前
最新收盘价
测试代码
暂停
测试代码
触发
下轨
当前
最新收盘价
测试代码
暂停
测试代码
并且针对
函数做一点小的修改
代码
资金可用部分不足一手保证金金额
可用部分
手保证金
系数
继续以下设计进度
设置止损止盈
以做多为例
设置当前初始线
入场价
按着一定规则
如
止损线
入场价
浮动止盈线和止损线
可以设置
浮动止盈线
中线
中线
止损线
可以看到
号条件上止损止盈的计算是基于
入场价
的这个值的
条件中描述的
中线
入场价
所以
入场价
这个值需要是一个
全局变量可以持久保存的
同样
浮动止盈线和止损线也是需要设置为全局变量
入场价
浮动止损
止损线
根据条件中的计算公式
我们写一个自定义函数
计算
以做多为例
设置当前初始线
入场价
按着一定规则
如
止损线
入场价
浮动止盈线和止损线
可以设置
浮动止盈线
中线
中线
止损线
错误的
参数
然后在
函数中触发开仓的位置写上
可以看到我们预留了加仓
平仓的位置
在设计策略程序的时候局部观念和全局观念需要相互协调
有时候为了调整整体结构也需要频繁调整代码
可以看到
商品期货交易类库
导出函数
处理交易细节
这行代码准备调用
商品期货交易类库
模块的接口
该模块的作用就是处理交易细节
相当于把
的
再次封装
对各个
使用中的
容错方面进行了处理
适合想快速写出策略程序的开发者使用
直接使用
开发者会更清楚程序流程
灵活性也更高
是否复用模块各有好处
使用
商品期货交易类库
前如果没有复制过该模板的需要复制到自己
账户的控制中心
地址
复制后在引用该模板的策略中勾选该模板
在
知乎专栏里面有关于这个模板的源代码注释
想学习的同学可以看看
欢迎关注
商品期货交易类库
模块
是通过创建一个
对象
来调用接口的
我们先声明一个全局变量用来引用生成的对象
声明为全局变量
调用导出函数生成对象
商品期货交易类库
导出函数
返回一个控制对象
导出函数部分很好写
回测试一下
本篇完整代码
参数变量
待填写
标的物合约代码
螺纹钢
合约
目前主力合约
全局变量
待填写
轮询时间
毫秒
毫秒
秒
合约信息
初始账户信息
当前账户信息
入场价
浮动止损
止损线
用于引用
商品期货交易类库
导出函数
生成的对象
功能函数
待填写
主循环函数
入场
以前一日收盘价上下
为上下轨
突破上轨做多一份资金
突破下轨做空一份资金
开仓
触发
上轨
当前
最新收盘价
测试代码
暂停
测试代码
商品期货交易类库
导出函数
处理交易细节
触发
下轨
当前
最新收盘价
测试代码
暂停
测试代码
商品期货交易类库
导出函数
处理交易细节
加仓
平仓
计算
以做多为例
设置当前初始线
入场价
按着一定规则
如
止损线
入场价
浮动止盈线和止损线
可以设置
浮动止盈线
中线
中线
止损线
错误的
参数
默认为
参数是有效值
传入
即
不为
长度足够
标的物合约信息
账户信息
资金分配
份
一份为
最新价格
调整系数
资金可用部分的
分之一
不足
开
多
空
手合约
手合约需
最新价格
调整系数
份资金
可开
多
空
当前账户资金已小于初始资金可用部分的十分之一
当前资金
初始资金可用部分的十分之一为
资金不足
系数
手合约保证金
资金可用部分不足一手保证金金额
可用部分
手保证金
系数
入口函数
程序的初始化工作
待填写
商品期货交易类库
导出函数
返回一个控制对象
等待交易时间获取账户信息初始化
时间
主循环
程序完成初始化后在此
循环执行
直到手动关闭
时间
已连接服务器
未连接服务器
待显示的一些信息可以写在此处
如账户信息
实时行情
程序状态
暂停
秒
避免轮询频率过高
访问交易所服务器过于频繁导致问题
做一些在程序停止时的
收尾工作
待填写
程序退出
视频地址
下一篇
我们一起来完善加仓和平仓的代码
快速迭代量化交易灵感
著作权归作者所有
举报文章
发明者量化
发明者量化
原
量化平台
下载
生成长微博图片
更多分享
使用
快速迭代你的量化交易灵感
在量化交易的世界
有着千变万化的方法
思路
策略
模型
算法
我们可以天马行空的想象
比如我也是经常头脑风暴般的闪出灵感
迅速在手边能找到的任何可以记录信息的东西上写下
当然这些想法贯穿了很多学科或者领域如
博弈论
统计学
哲学
金融
经济学
数学
物理学等等
有些是我们
发明者量化
使用
快速迭代你的量化交易灵感
接上篇内容
本篇我们来一起设计策略程序的加仓
平仓代码
加仓
条件
当后续价格触到浮动止盈线
将中线上移到浮动止盈线
同时根据此时的中线计算新的止损线和浮动止盈线
与此同时
加码一份资金
我们已经在
函数中计算出了
浮动止盈线
数值
发明者量化
二十二款知名外汇
测试笔记
最近一个多月
又研究
测试了一些
这些
有的很知名
有的名气小一些
我选择的条件有两个
一是可以开仓回测
二是原代码可读
那些用
破解的
原代码编程了一堆没有意义的代码
解读起来很难
我就暂时放到一边
目前国内对
的研究
开发和破译者很少
我
汇市杂谈
使用
快速迭代你的量化交易灵感
系列上篇文章给出了策略程序的基本框架
在程序初始化时计算了资金分配单元
我们接下来可以用
上期技术
模拟账户
测试一下
使用的语言是
策略操作的标的物为
螺纹钢
合约代码
策略源码地址
节省篇幅
策略就不粘贴上来了
发明者量化
凯利公式
仓位管理大杀器
凯利公式你用对了吗
今天我们介绍一个神奇的人
和他神奇的公式
目前网络上传播较广的一篇讲凯利公式前世今生的文章
个人认为深度不够
而且思路是有问题的
大家不要看多了走偏路
最近也花
日记而已
清早到校
撕了一周都懒得撕下的日历
在
宜悲伤
这里
停了好久的眼睛
我想
我也选择悲伤
真的
循环的太阳
循环的四季
循环的人身经历
什么都是一个圈
走到最尾就是从头
准备好好的跟
小
说句幸苦
日后用到
的时候应该不会再多
小图记
夜太美
晨读感悟
冈仁波齐就在那里
这两天看了一个电影
冈仁波齐
讲述的是一行
个人
花了一年多的时间
从芒康到冈仁波齐的朝圣之路
为的是实现尼玛扎堆的父亲生前的夙愿
去一趟拉萨
虽然我去过拉萨
但是我连冈仁波齐山都不知道
更没想到被电影中几个小小的情景彻底打动了
情景一
次仁曲珍生了
次仁曲珍是挺着肚
猫小开